<!DOCTYPE html>
<html><head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>OpenMIPS处理器 - ZonePG</title><meta name="viewport" content="width=device-width, initial-scale=1">

	<meta property="og:image" content=""/>
	<meta property="og:title" content="OpenMIPS处理器" />
<meta property="og:description" content="最近在看《自己动手写CPU》，实现一个 5级流水线的 OpenMIPS处理器。这篇文章记录保存实现过程中用到的元器件接口以及系统结构结构图，主要为图片内容，方便查阅。
教学版OpenMIPS处理器蓝图 外部接口 文件说明 流水线各个阶段对应的模块、文件 数据相关 逻辑、移位指令的数据相关 HI、LO寄存器带来的数据相关 数据流图 只实现一条指令的ori时的数据流图 添加了数据前推的OpenMIPS数据流图（回写、译码数据相关通过判断即可解决） 添加了移动操作指令后的数据流图 解决HI、寄存器带来的数据相关问题后的数据流图 增加算术操作后的数据流图 为实现转移指令而修改的数据流图 实现mips32指令集中所有整数指令之后的数据流图 系统结构图 原始的OpenMIPS五级流水线系统结构图（用于实现ori指令） 为实现数据前推而对OpenMIPS结构所做的修改 为实现移动操作而对OpenMIPS结构所做的修改 为实现流水线暂停机制而对系统结构所做的修改 为实现转移指令而对系统结构所做的修改 SOPC 实现 最小SOPC实现 确定指令种类 逻辑、移位操作与空指令 移动操作指令 算术操作指令 算术操作指令 乘累加、乘累减指令 转移指令 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zonepg.github.io/posts/programming/ca/2021-04-13-cpu-from-scratch/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-04-13T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-04-13T00:00:00+00:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="OpenMIPS处理器"/>
<meta name="twitter:description" content="最近在看《自己动手写CPU》，实现一个 5级流水线的 OpenMIPS处理器。这篇文章记录保存实现过程中用到的元器件接口以及系统结构结构图，主要为图片内容，方便查阅。
教学版OpenMIPS处理器蓝图 外部接口 文件说明 流水线各个阶段对应的模块、文件 数据相关 逻辑、移位指令的数据相关 HI、LO寄存器带来的数据相关 数据流图 只实现一条指令的ori时的数据流图 添加了数据前推的OpenMIPS数据流图（回写、译码数据相关通过判断即可解决） 添加了移动操作指令后的数据流图 解决HI、寄存器带来的数据相关问题后的数据流图 增加算术操作后的数据流图 为实现转移指令而修改的数据流图 实现mips32指令集中所有整数指令之后的数据流图 系统结构图 原始的OpenMIPS五级流水线系统结构图（用于实现ori指令） 为实现数据前推而对OpenMIPS结构所做的修改 为实现移动操作而对OpenMIPS结构所做的修改 为实现流水线暂停机制而对系统结构所做的修改 为实现转移指令而对系统结构所做的修改 SOPC 实现 最小SOPC实现 确定指令种类 逻辑、移位操作与空指令 移动操作指令 算术操作指令 算术操作指令 乘累加、乘累减指令 转移指令 "/>
<script src="https://zonepg.github.io/js/feather.min.js"></script>
	
	<link href="https://zonepg.github.io/css/fonts.css" rel="stylesheet">
	
	<link rel="stylesheet" type="text/css" media="screen" href="https://zonepg.github.io/css/main.css" />
	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://zonepg.github.io/">ZonePG</a>
	</div>
	<nav>
		
	</nav>
	
</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">OpenMIPS处理器</h1>
			<div class="meta">Posted on Apr 13, 2021</div>
		</div>
		

		<section class="body">
			<p>最近在看《自己动手写CPU》，实现一个 5级流水线的 OpenMIPS处理器。这篇文章记录保存实现过程中用到的元器件接口以及系统结构结构图，主要为图片内容，方便查阅。</p>
<h2 id="教学版openmips处理器蓝图">教学版OpenMIPS处理器蓝图</h2>
<h3 id="外部接口">外部接口</h3>
<figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-1.png"/>
</figure>

<h3 id="文件说明">文件说明</h3>
<figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-2.png"/><figcaption>
            <h4>流水线各个阶段对应的模块、文件</h4>
        </figcaption>
</figure>

<h3 id="数据相关">数据相关</h3>
<p><figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-3.png"/><figcaption>
            <h4>逻辑、移位指令的数据相关</h4>
        </figcaption>
</figure>

<figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-4.png"/><figcaption>
            <h4>HI、LO寄存器带来的数据相关</h4>
        </figcaption>
</figure>
</p>
<h3 id="数据流图">数据流图</h3>
<p><figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-5.png"/><figcaption>
            <h4>只实现一条指令的ori时的数据流图</h4>
        </figcaption>
</figure>

<figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-6.png"/><figcaption>
            <h4>添加了数据前推的OpenMIPS数据流图（回写、译码数据相关通过判断即可解决）</h4>
        </figcaption>
</figure>

<figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-7.png"/><figcaption>
            <h4>添加了移动操作指令后的数据流图</h4>
        </figcaption>
</figure>

<figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-8.png"/><figcaption>
            <h4>解决HI、寄存器带来的数据相关问题后的数据流图</h4>
        </figcaption>
</figure>

<figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-9.png"/><figcaption>
            <h4>增加算术操作后的数据流图</h4>
        </figcaption>
</figure>

<figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-10.png"/><figcaption>
            <h4>为实现转移指令而修改的数据流图</h4>
        </figcaption>
</figure>

<figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-11.png"/><figcaption>
            <h4>实现mips32指令集中所有整数指令之后的数据流图</h4>
        </figcaption>
</figure>
</p>
<h3 id="系统结构图">系统结构图</h3>
<p><figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-12.png"/><figcaption>
            <h4>原始的OpenMIPS五级流水线系统结构图（用于实现ori指令）</h4>
        </figcaption>
</figure>

<figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-13.png"/><figcaption>
            <h4>为实现数据前推而对OpenMIPS结构所做的修改</h4>
        </figcaption>
</figure>

<figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-14.png"/><figcaption>
            <h4>为实现移动操作而对OpenMIPS结构所做的修改</h4>
        </figcaption>
</figure>

<figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-15.png"/><figcaption>
            <h4>为实现流水线暂停机制而对系统结构所做的修改</h4>
        </figcaption>
</figure>

<figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-16.png"/><figcaption>
            <h4>为实现转移指令而对系统结构所做的修改</h4>
        </figcaption>
</figure>
</p>
<h3 id="sopc-实现">SOPC 实现</h3>
<figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-17.png"/><figcaption>
            <h4>最小SOPC实现</h4>
        </figcaption>
</figure>

<h3 id="确定指令种类">确定指令种类</h3>
<p><figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-18.png"/><figcaption>
            <h4>逻辑、移位操作与空指令</h4>
        </figcaption>
</figure>

<figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-19.png"/><figcaption>
            <h4>移动操作指令</h4>
        </figcaption>
</figure>

<figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-20.png"/><figcaption>
            <h4>算术操作指令</h4>
        </figcaption>
</figure>

<figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-21.png"/><figcaption>
            <h4>算术操作指令</h4>
        </figcaption>
</figure>

<figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-22.png"/><figcaption>
            <h4>乘累加、乘累减指令</h4>
        </figcaption>
</figure>

<figure><img src="/ca/2021-04-13-cpu-from-scratch/2021-04-13-cpu-from-scratch-23.png"/><figcaption>
            <h4>转移指令</h4>
        </figcaption>
</figure>
</p>

		</section>

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
					
					<li><a href="/tags/verilog">Verilog</a></li>
					
					<li><a href="/tags/computer-architecture">Computer Architecture</a></li>
					
					<li><a href="/tags/cpu">CPU</a></li>
					
				</ul>
			</nav>
			
			
		</div>
	</article>
</main>
<footer>
<hr>

<a class="soc" href="https://github.com/zonepg" title="GitHub"><i data-feather="github"></i></a>|<a class="soc" href="https://zonepg.github.io/posts/index.xml" title="RSS"><i data-feather="rss"></i></a>|⚡️
	2023  @ ZonePG |  <a href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
</footer>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-0RR9DVCNMR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0RR9DVCNMR');
</script>
<script>
      feather.replace()
</script></div>
    </body>
</html>
